{"version":3,"file":"index.js","sources":["../../components/base/base-plugin.js","../../components/base/custom-event.js","../../components/base/uniqueid-mixin.js","../../node_modules/@material/base/foundation.js","../../node_modules/@material/base/component.js","../../node_modules/@material/base/index.js","../../node_modules/@material/dialog/constants.js","../../node_modules/@material/dialog/foundation.js","../../node_modules/tabbable/index.js","../../node_modules/focus-trap/index.js","../../node_modules/@material/dialog/util.js","../../components/dialog/mdc-dialog.vue","../../components/dialog/index.js"],"sourcesContent":["export function BasePlugin(components) {\r\n  return {\r\n    version: '__VERSION__',\r\n    install: vm => {\r\n      for (let key in components) {\r\n        let component = components[key]\r\n        vm.component(component.name, component)\r\n      }\r\n    },\r\n    components\r\n  }\r\n}\r\n","/* global CustomEvent */\r\n\r\nexport function emitCustomEvent(el, evtType, evtData, shouldBubble = false) {\r\n  let evt\r\n  if (typeof CustomEvent === 'function') {\r\n    evt = new CustomEvent(evtType, {\r\n      detail: evtData,\r\n      bubbles: shouldBubble\r\n    })\r\n  } else {\r\n    evt = document.createEvent('CustomEvent')\r\n    evt.initCustomEvent(evtType, shouldBubble, false, evtData)\r\n  }\r\n  el.dispatchEvent(evt)\r\n}\r\n","const scope =\r\n  Math.floor(Math.random() * Math.floor(0x10000000)).toString() + '-'\r\n\r\nexport const VMAUniqueIdMixin = {\r\n  beforeCreate() {\r\n    this.vma_uid_ = scope + this._uid\r\n  }\r\n}\r\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport MDCFoundation from './foundation';\nimport MDCComponent from './component';\n\nexport {MDCFoundation, MDCComponent};\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nconst cssClasses = {\n  ROOT: 'mdc-dialog',\n  OPEN: 'mdc-dialog--open',\n  ANIMATING: 'mdc-dialog--animating',\n  BACKDROP: 'mdc-dialog__backdrop',\n  SCROLL_LOCK: 'mdc-dialog-scroll-lock',\n  ACCEPT_BTN: 'mdc-dialog__footer__button--accept',\n  CANCEL_BTN: 'mdc-dialog__footer__button--cancel',\n};\n\nconst strings = {\n  OPEN_DIALOG_SELECTOR: '.mdc-dialog--open',\n  DIALOG_SURFACE_SELECTOR: '.mdc-dialog__surface',\n  ACCEPT_SELECTOR: '.mdc-dialog__footer__button--accept',\n  ACCEPT_EVENT: 'MDCDialog:accept',\n  CANCEL_EVENT: 'MDCDialog:cancel',\n};\n\nconst numbers = {\n  DIALOG_ANIMATION_TIME_MS: 120,\n};\n\nexport {cssClasses, strings, numbers};\n","/**\n * Copyright 2017 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport {MDCFoundation} from '@material/base/index';\nimport {cssClasses, strings, numbers} from './constants';\n\nexport default class MDCDialogFoundation extends MDCFoundation {\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  static get strings() {\n    return strings;\n  }\n\n  static get numbers() {\n    return numbers;\n  }\n\n  static get defaultAdapter() {\n    return ({\n      addClass: (/* className: string */) => {},\n      removeClass: (/* className: string */) => {},\n      addBodyClass: (/* className: string */) => {},\n      removeBodyClass: (/* className: string */) => {},\n      eventTargetHasClass: (/* target: EventTarget, className: string */) => /* boolean */ false,\n      registerInteractionHandler: (/* evt: string, handler: EventListener */) => {},\n      deregisterInteractionHandler: (/* evt: string, handler: EventListener */) => {},\n      registerSurfaceInteractionHandler: (/* evt: string, handler: EventListener */) => {},\n      deregisterSurfaceInteractionHandler: (/* evt: string, handler: EventListener */) => {},\n      registerDocumentKeydownHandler: (/* handler: EventListener */) => {},\n      deregisterDocumentKeydownHandler: (/* handler: EventListener */) => {},\n      notifyAccept: () => {},\n      notifyCancel: () => {},\n      trapFocusOnSurface: () => {},\n      untrapFocusOnSurface: () => {},\n      isDialog: (/* el: Element */) => /* boolean */ false,\n    });\n  }\n\n  constructor(adapter) {\n    super(Object.assign(MDCDialogFoundation.defaultAdapter, adapter));\n    this.isOpen_ = false;\n    this.componentClickHandler_ = (evt) => {\n      if (this.adapter_.eventTargetHasClass(evt.target, cssClasses.BACKDROP)) {\n        this.cancel(true);\n      }\n    };\n    this.dialogClickHandler_ = (evt) => this.handleDialogClick_(evt);\n    this.documentKeydownHandler_ = (evt) => {\n      if (evt.key && evt.key === 'Escape' || evt.keyCode === 27) {\n        this.cancel(true);\n      }\n    };\n\n    this.timerId_ = 0;\n    this.animationTimerEnd_ = (evt) => this.handleAnimationTimerEnd_(evt);\n  };\n\n  destroy() {\n    // Ensure that dialog is cleaned up when destroyed\n    if (this.isOpen_) {\n      this.close();\n    }\n    // Final cleanup of animating class in case the timer has not completed.\n    this.adapter_.removeClass(MDCDialogFoundation.cssClasses.ANIMATING);\n    clearTimeout(this.timerId_);\n  }\n\n  open() {\n    this.isOpen_ = true;\n    this.disableScroll_();\n    this.adapter_.registerDocumentKeydownHandler(this.documentKeydownHandler_);\n    this.adapter_.registerSurfaceInteractionHandler('click', this.dialogClickHandler_);\n    this.adapter_.registerInteractionHandler('click', this.componentClickHandler_);\n    clearTimeout(this.timerId_);\n    this.timerId_ = setTimeout(this.animationTimerEnd_, MDCDialogFoundation.numbers.DIALOG_ANIMATION_TIME_MS);\n    this.adapter_.addClass(MDCDialogFoundation.cssClasses.ANIMATING);\n    this.adapter_.addClass(MDCDialogFoundation.cssClasses.OPEN);\n  }\n\n  close() {\n    this.isOpen_ = false;\n    this.enableScroll_();\n    this.adapter_.deregisterSurfaceInteractionHandler('click', this.dialogClickHandler_);\n    this.adapter_.deregisterDocumentKeydownHandler(this.documentKeydownHandler_);\n    this.adapter_.deregisterInteractionHandler('click', this.componentClickHandler_);\n    this.adapter_.untrapFocusOnSurface();\n    clearTimeout(this.timerId_);\n    this.timerId_ = setTimeout(this.animationTimerEnd_, MDCDialogFoundation.numbers.DIALOG_ANIMATION_TIME_MS);\n    this.adapter_.addClass(MDCDialogFoundation.cssClasses.ANIMATING);\n    this.adapter_.removeClass(MDCDialogFoundation.cssClasses.OPEN);\n  }\n\n  isOpen() {\n    return this.isOpen_;\n  }\n\n  accept(shouldNotify) {\n    if (shouldNotify) {\n      this.adapter_.notifyAccept();\n    }\n\n    this.close();\n  }\n\n  cancel(shouldNotify) {\n    if (shouldNotify) {\n      this.adapter_.notifyCancel();\n    }\n\n    this.close();\n  }\n\n  handleDialogClick_(evt) {\n    const {target} = evt;\n    if (this.adapter_.eventTargetHasClass(target, cssClasses.ACCEPT_BTN)) {\n      this.accept(true);\n    } else if (this.adapter_.eventTargetHasClass(target, cssClasses.CANCEL_BTN)) {\n      this.cancel(true);\n    }\n  }\n\n  handleAnimationTimerEnd_() {\n    this.adapter_.removeClass(MDCDialogFoundation.cssClasses.ANIMATING);\n    if (this.isOpen_) {\n      this.adapter_.trapFocusOnSurface();\n    }\n  };\n\n  disableScroll_() {\n    this.adapter_.addBodyClass(cssClasses.SCROLL_LOCK);\n  }\n\n  enableScroll_() {\n    this.adapter_.removeBodyClass(cssClasses.SCROLL_LOCK);\n  }\n}\n","module.exports = function(el, options) {\n  options = options || {};\n\n  var elementDocument = el.ownerDocument || el;\n  var basicTabbables = [];\n  var orderedTabbables = [];\n\n  // A node is \"available\" if\n  // - it's computed style\n  var isUnavailable = createIsUnavailable(elementDocument);\n\n  var candidateSelectors = [\n    'input',\n    'select',\n    'a[href]',\n    'textarea',\n    'button',\n    '[tabindex]',\n  ];\n\n  var candidates = el.querySelectorAll(candidateSelectors.join(','));\n\n  if (options.includeContainer) {\n    var matches = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\n    if (\n      candidateSelectors.some(function(candidateSelector) {\n        return matches.call(el, candidateSelector);\n      })\n    ) {\n      candidates = Array.prototype.slice.apply(candidates);\n      candidates.unshift(el);\n    }\n  }\n\n  var candidate, candidateIndexAttr, candidateIndex;\n  for (var i = 0, l = candidates.length; i < l; i++) {\n    candidate = candidates[i];\n    candidateIndexAttr = parseInt(candidate.getAttribute('tabindex'), 10)\n    candidateIndex = isNaN(candidateIndexAttr) ? candidate.tabIndex : candidateIndexAttr;\n\n    if (\n      candidateIndex < 0\n      || (candidate.tagName === 'INPUT' && candidate.type === 'hidden')\n      || candidate.disabled\n      || isUnavailable(candidate, elementDocument)\n    ) {\n      continue;\n    }\n\n    if (candidateIndex === 0) {\n      basicTabbables.push(candidate);\n    } else {\n      orderedTabbables.push({\n        index: i,\n        tabIndex: candidateIndex,\n        node: candidate,\n      });\n    }\n  }\n\n  var tabbableNodes = orderedTabbables\n    .sort(function(a, b) {\n      return a.tabIndex === b.tabIndex ? a.index - b.index : a.tabIndex - b.tabIndex;\n    })\n    .map(function(a) {\n      return a.node\n    });\n\n  Array.prototype.push.apply(tabbableNodes, basicTabbables);\n\n  return tabbableNodes;\n}\n\nfunction createIsUnavailable(elementDocument) {\n  // Node cache must be refreshed on every check, in case\n  // the content of the element has changed\n  var isOffCache = [];\n\n  // \"off\" means `display: none;`, as opposed to \"hidden\",\n  // which means `visibility: hidden;`. getComputedStyle\n  // accurately reflects visiblity in context but not\n  // \"off\" state, so we need to recursively check parents.\n\n  function isOff(node, nodeComputedStyle) {\n    if (node === elementDocument.documentElement) return false;\n\n    // Find the cached node (Array.prototype.find not available in IE9)\n    for (var i = 0, length = isOffCache.length; i < length; i++) {\n      if (isOffCache[i][0] === node) return isOffCache[i][1];\n    }\n\n    nodeComputedStyle = nodeComputedStyle || elementDocument.defaultView.getComputedStyle(node);\n\n    var result = false;\n\n    if (nodeComputedStyle.display === 'none') {\n      result = true;\n    } else if (node.parentNode) {\n      result = isOff(node.parentNode);\n    }\n\n    isOffCache.push([node, result]);\n\n    return result;\n  }\n\n  return function isUnavailable(node) {\n    if (node === elementDocument.documentElement) return false;\n\n    var computedStyle = elementDocument.defaultView.getComputedStyle(node);\n\n    if (isOff(node, computedStyle)) return true;\n\n    return computedStyle.visibility === 'hidden';\n  }\n}\n","var tabbable = require('tabbable');\n\nvar listeningFocusTrap = null;\n\nfunction focusTrap(element, userOptions) {\n  var tabbableNodes = [];\n  var firstTabbableNode = null;\n  var lastTabbableNode = null;\n  var nodeFocusedBeforeActivation = null;\n  var active = false;\n  var paused = false;\n  var tabEvent = null;\n\n  var container = (typeof element === 'string')\n    ? document.querySelector(element)\n    : element;\n\n  var config = userOptions || {};\n  config.returnFocusOnDeactivate = (userOptions && userOptions.returnFocusOnDeactivate !== undefined)\n    ? userOptions.returnFocusOnDeactivate\n    : true;\n  config.escapeDeactivates = (userOptions && userOptions.escapeDeactivates !== undefined)\n    ? userOptions.escapeDeactivates\n    : true;\n\n  var trap = {\n    activate: activate,\n    deactivate: deactivate,\n    pause: pause,\n    unpause: unpause,\n  };\n\n  return trap;\n\n  function activate(activateOptions) {\n    if (active) return;\n\n    var defaultedActivateOptions = {\n      onActivate: (activateOptions && activateOptions.onActivate !== undefined)\n        ? activateOptions.onActivate\n        : config.onActivate,\n    };\n\n    active = true;\n    paused = false;\n    nodeFocusedBeforeActivation = document.activeElement;\n\n    if (defaultedActivateOptions.onActivate) {\n      defaultedActivateOptions.onActivate();\n    }\n\n    addListeners();\n    return trap;\n  }\n\n  function deactivate(deactivateOptions) {\n    if (!active) return;\n\n    var defaultedDeactivateOptions = {\n      returnFocus: (deactivateOptions && deactivateOptions.returnFocus !== undefined)\n        ? deactivateOptions.returnFocus\n        : config.returnFocusOnDeactivate,\n      onDeactivate: (deactivateOptions && deactivateOptions.onDeactivate !== undefined)\n        ? deactivateOptions.onDeactivate\n        : config.onDeactivate,\n    };\n\n    removeListeners();\n\n    if (defaultedDeactivateOptions.onDeactivate) {\n      defaultedDeactivateOptions.onDeactivate();\n    }\n\n    if (defaultedDeactivateOptions.returnFocus) {\n      setTimeout(function () {\n        tryFocus(nodeFocusedBeforeActivation);\n      }, 0);\n    }\n\n    active = false;\n    paused = false;\n    return this;\n  }\n\n  function pause() {\n    if (paused || !active) return;\n    paused = true;\n    removeListeners();\n  }\n\n  function unpause() {\n    if (!paused || !active) return;\n    paused = false;\n    addListeners();\n  }\n\n  function addListeners() {\n    if (!active) return;\n\n    // There can be only one listening focus trap at a time\n    if (listeningFocusTrap) {\n      listeningFocusTrap.pause();\n    }\n    listeningFocusTrap = trap;\n\n    updateTabbableNodes();\n    // Ensure that the focused element doesn't capture the event that caused the focus trap activation\n    setTimeout(function () {\n      tryFocus(firstFocusNode());\n    }, 0);\n    document.addEventListener('focus', checkFocus, true);\n    document.addEventListener('click', checkClick, true);\n    document.addEventListener('mousedown', checkPointerDown, true);\n    document.addEventListener('touchstart', checkPointerDown, true);\n    document.addEventListener('keydown', checkKey, true);\n\n    return trap;\n  }\n\n  function removeListeners() {\n    if (!active || listeningFocusTrap !== trap) return;\n\n    document.removeEventListener('focus', checkFocus, true);\n    document.removeEventListener('click', checkClick, true);\n    document.removeEventListener('mousedown', checkPointerDown, true);\n    document.removeEventListener('touchstart', checkPointerDown, true);\n    document.removeEventListener('keydown', checkKey, true);\n\n    listeningFocusTrap = null;\n\n    return trap;\n  }\n\n  function getNodeForOption(optionName) {\n    var optionValue = config[optionName];\n    var node = optionValue;\n    if (!optionValue) {\n      return null;\n    }\n    if (typeof optionValue === 'string') {\n      node = document.querySelector(optionValue);\n      if (!node) {\n        throw new Error('`' + optionName + '` refers to no known node');\n      }\n    }\n    if (typeof optionValue === 'function') {\n      node = optionValue();\n      if (!node) {\n        throw new Error('`' + optionName + '` did not return a node');\n      }\n    }\n    return node;\n  }\n\n  function firstFocusNode() {\n    var node;\n    if (getNodeForOption('initialFocus') !== null) {\n      node = getNodeForOption('initialFocus');\n    } else if (container.contains(document.activeElement)) {\n      node = document.activeElement;\n    } else {\n      node = tabbableNodes[0] || getNodeForOption('fallbackFocus');\n    }\n\n    if (!node) {\n      throw new Error('You can\\'t have a focus-trap without at least one focusable element');\n    }\n\n    return node;\n  }\n\n  // This needs to be done on mousedown and touchstart instead of click\n  // so that it precedes the focus event\n  function checkPointerDown(e) {\n    if (config.clickOutsideDeactivates && !container.contains(e.target)) {\n      deactivate({ returnFocus: false });\n    }\n  }\n\n  function checkClick(e) {\n    if (config.clickOutsideDeactivates) return;\n    if (container.contains(e.target)) return;\n    e.preventDefault();\n    e.stopImmediatePropagation();\n  }\n\n  function checkFocus(e) {\n    if (container.contains(e.target)) return;\n    e.preventDefault();\n    e.stopImmediatePropagation();\n    // Checking for a blur method here resolves a Firefox issue (#15)\n    if (typeof e.target.blur === 'function') e.target.blur();\n\n    if (tabEvent) {\n      readjustFocus(tabEvent);\n    }\n  }\n\n  function checkKey(e) {\n    if (e.key === 'Tab' || e.keyCode === 9) {\n      handleTab(e);\n    }\n\n    if (config.escapeDeactivates !== false && isEscapeEvent(e)) {\n      deactivate();\n    }\n  }\n\n  function handleTab(e) {\n    updateTabbableNodes();\n\n    if (e.target.hasAttribute('tabindex') && Number(e.target.getAttribute('tabindex')) < 0) {\n      return tabEvent = e;\n    }\n\n    e.preventDefault();\n    var currentFocusIndex = tabbableNodes.indexOf(e.target);\n\n    if (e.shiftKey) {\n      if (e.target === firstTabbableNode || tabbableNodes.indexOf(e.target) === -1) {\n        return tryFocus(lastTabbableNode);\n      }\n      return tryFocus(tabbableNodes[currentFocusIndex - 1]);\n    }\n\n    if (e.target === lastTabbableNode) return tryFocus(firstTabbableNode);\n\n    tryFocus(tabbableNodes[currentFocusIndex + 1]);\n  }\n\n  function updateTabbableNodes() {\n    tabbableNodes = tabbable(container);\n    firstTabbableNode = tabbableNodes[0];\n    lastTabbableNode = tabbableNodes[tabbableNodes.length - 1];\n  }\n\n  function readjustFocus(e) {\n    if (e.shiftKey) return tryFocus(lastTabbableNode);\n\n    tryFocus(firstTabbableNode);\n  }\n}\n\nfunction isEscapeEvent(e) {\n  return e.key === 'Escape' || e.key === 'Esc' || e.keyCode === 27;\n}\n\nfunction tryFocus(node) {\n  if (!node || !node.focus) return;\n  if (node === document.activeElement)  return;\n\n  node.focus();\n  if (node.tagName.toLowerCase() === 'input') {\n    node.select();\n  }\n}\n\nmodule.exports = focusTrap;\n","/**\n * Copyright 2016 Google Inc. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport createFocusTrap from 'focus-trap';\n\nexport function createFocusTrapInstance(surfaceEl, acceptButtonEl, focusTrapFactory = createFocusTrap) {\n  return focusTrapFactory(surfaceEl, {\n    initialFocus: acceptButtonEl,\n    clickOutsideDeactivates: true,\n  });\n}\n","<template>\r\n  <aside\r\n    ref=\"root\"\r\n    :class=\"classes\"\r\n    :style=\"styles\"\r\n    :aria-labelledby=\"'label' + vma_uid_\"\r\n    :aria-describedby=\"'desc' + vma_uid_\"\r\n    class=\"mdc-dialog\"\r\n    role=\"alertdialog\"\r\n  >\r\n    <div\r\n      ref=\"surface\"\r\n      :class=\"surfaceClasses\"\r\n      class=\"mdc-dialog__surface\">\r\n      <header\r\n        v-if=\"title\"\r\n        class=\"mdc-dialog__header\">\r\n        <h2\r\n          :id=\"'label' + vma_uid_\"\r\n          class=\"mdc-dialog__header__title\">\r\n          {{ title }}\r\n        </h2>\r\n      </header>\r\n      <section\r\n        :id=\"'desc' + vma_uid_\"\r\n        :class=\"bodyClasses\"\r\n        class=\"mdc-dialog__body\">\r\n        <slot />\r\n      </section>\r\n      <footer\r\n        v-if=\"accept||cancel\"\r\n        class=\"mdc-dialog__footer\">\r\n        <mdcButton\r\n          v-if=\"cancel\"\r\n          ref=\"cancel\"\r\n          :class=\"{'mdc-dialog__action':accent}\"\r\n          :raised=\"cancelRaised\"\r\n          class=\"mdc-dialog__footer__button mdc-dialog__footer__button--cancel\"\r\n          @click=\"onCancel\"\r\n        >{{ cancel }}</mdcButton>\r\n        <mdcButton\r\n          ref=\"accept\"\r\n          :class=\"{'mdc-dialog__action':accent}\"\r\n          :disabled=\"acceptDisabled\"\r\n          :raised=\"acceptRaised\"\r\n          class=\"mdc-dialog__footer__button mdc-dialog__footer__button--accept\"\r\n          @click=\"onAccept\"\r\n        >{{ accept }}</mdcButton>\r\n      </footer>\r\n    </div>\r\n    <div class=\"mdc-dialog__backdrop\"/>\r\n  </aside>\r\n</template>\r\n\r\n<script>\r\nimport MDCDialogFoundation from '@material/dialog/foundation'\r\nimport { createFocusTrapInstance } from '@material/dialog/util'\r\nimport { mdcButton } from '../button'\r\nimport { VMAUniqueIdMixin } from '../base'\r\n\r\nexport default {\r\n  name: 'mdc-dialog',\r\n  components: {\r\n    mdcButton: mdcButton\r\n  },\r\n  mixins: [VMAUniqueIdMixin],\r\n  model: {\r\n    prop: 'open',\r\n    event: 'change'\r\n  },\r\n  props: {\r\n    title: { type: String },\r\n    accept: { type: String, default: 'Ok' },\r\n    acceptDisabled: Boolean,\r\n    acceptRaised: { type: Boolean, default: false },\r\n    cancel: { type: String },\r\n    cancelRaised: { type: Boolean, default: false },\r\n    accent: Boolean,\r\n    scrollable: Boolean,\r\n    open: Boolean\r\n  },\r\n  data() {\r\n    return {\r\n      classes: {\r\n        'mdc-theme--dark': this.dark\r\n      },\r\n      styles: {},\r\n      surfaceClasses: {},\r\n      bodyClasses: {\r\n        'mdc-dialog__body--scrollable': this.scrollable\r\n      }\r\n    }\r\n  },\r\n  watch: { open: 'onOpen_' },\r\n  mounted() {\r\n    if (this.accept) {\r\n      this.focusTrap = createFocusTrapInstance(\r\n        this.$refs.surface,\r\n        this.$refs.accept\r\n      )\r\n    }\r\n\r\n    this.foundation = new MDCDialogFoundation({\r\n      addClass: className => this.$set(this.classes, className, true),\r\n      removeClass: className => this.$delete(this.classes, className),\r\n      addBodyClass: className => document.body.classList.add(className),\r\n      removeBodyClass: className => document.body.classList.remove(className),\r\n      eventTargetHasClass: (target, className) =>\r\n        target.classList.contains(className),\r\n      registerInteractionHandler: (evt, handler) =>\r\n        this.$refs.root.addEventListener(evt, handler),\r\n      deregisterInteractionHandler: (evt, handler) =>\r\n        this.$refs.root.removeEventListener(evt, handler),\r\n      registerSurfaceInteractionHandler: (/*evt, handler*/) => {\r\n        // VMA_HACK: handle button clicks ourselves\r\n        // this.$refs.surface.addEventListener(evt, handler)\r\n      },\r\n      deregisterSurfaceInteractionHandler: (/*evt, handler*/) => {\r\n        // VMA_HACK: handle button clicks ourselves\r\n        // this.$refs.surface.removeEventListener(evt, handler)\r\n      },\r\n      registerDocumentKeydownHandler: handler =>\r\n        document.addEventListener('keydown', handler),\r\n      deregisterDocumentKeydownHandler: handler =>\r\n        document.removeEventListener('keydown', handler),\r\n      notifyAccept: () => {\r\n        this.$emit('change', false)\r\n        this.$emit('accept')\r\n      },\r\n      notifyCancel: () => {\r\n        this.$emit('change', false)\r\n        this.$emit('cancel')\r\n      },\r\n      trapFocusOnSurface: () => this.focusTrap && this.focusTrap.activate(),\r\n      untrapFocusOnSurface: () => this.focusTrap && this.focusTrap.deactivate(),\r\n      isDialog: el => this.$refs.surface === el\r\n    })\r\n\r\n    this.foundation.init()\r\n    this.open && this.foundation.open()\r\n  },\r\n  beforeDestroy() {\r\n    this.foundation.destroy()\r\n  },\r\n  methods: {\r\n    onOpen_(value) {\r\n      if (value) {\r\n        this.foundation.open()\r\n      } else {\r\n        this.foundation.close()\r\n      }\r\n    },\r\n    onCancel() {\r\n      if (this.$listeners['validateCancel']) {\r\n        this.$emit('validateCancel', {\r\n          cancel: (notify = true) => {\r\n            // if notify = false, the dialog will close\r\n            // but the notifyAccept method will not be called\r\n            // so we need to notify listeners the open state\r\n            // is changing.\r\n            if (!notify) {\r\n              this.$emit('change', false)\r\n            }\r\n            this.foundation.cancel(notify)\r\n          }\r\n        })\r\n      } else {\r\n        this.foundation.cancel(true)\r\n      }\r\n    },\r\n    onAccept() {\r\n      if (this.$listeners['validate']) {\r\n        this.$emit('validate', {\r\n          accept: (notify = true) => {\r\n            // if notify = false, the dialog will close\r\n            // but the notifyAccept method will not be called\r\n            // so we need to notify listeners the open state\r\n            // is changing.\r\n            if (!notify) {\r\n              this.$emit('change', false)\r\n            }\r\n            this.foundation.accept(notify)\r\n          }\r\n        })\r\n      } else {\r\n        this.foundation.accept(true)\r\n      }\r\n    },\r\n    show() {\r\n      this.foundation.open()\r\n    },\r\n    close() {\r\n      this.foundation.close()\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { BasePlugin } from '../base'\r\nimport mdcDialog from './mdc-dialog.vue'\r\n\r\nexport { mdcDialog }\r\n\r\nexport default BasePlugin({\r\n  mdcDialog\r\n})\r\n"],"names":["BasePlugin","components","key","component","name","scope","Math","floor","random","toString","VMAUniqueIdMixin","vma_uid_","_uid","MDCFoundation","adapter","adapter_","MDCComponent","root","foundation","undefined","root_","args","initialize","foundation_","getDefaultFoundation","init","initialSyncWithDOM","Error","destroy","evtType","handler","addEventListener","removeEventListener","evtData","shouldBubble","evt","CustomEvent","document","createEvent","initCustomEvent","dispatchEvent","cssClasses","strings","numbers","MDCDialogFoundation","babelHelpers.extends","defaultAdapter","isOpen_","componentClickHandler_","eventTargetHasClass","target","BACKDROP","cancel","dialogClickHandler_","handleDialogClick_","documentKeydownHandler_","keyCode","timerId_","animationTimerEnd_","handleAnimationTimerEnd_","close","removeClass","ANIMATING","disableScroll_","registerDocumentKeydownHandler","registerSurfaceInteractionHandler","registerInteractionHandler","setTimeout","DIALOG_ANIMATION_TIME_MS","addClass","OPEN","enableScroll_","deregisterSurfaceInteractionHandler","deregisterDocumentKeydownHandler","deregisterInteractionHandler","untrapFocusOnSurface","shouldNotify","notifyAccept","notifyCancel","ACCEPT_BTN","accept","CANCEL_BTN","trapFocusOnSurface","addBodyClass","SCROLL_LOCK","removeBodyClass","module","el","options","elementDocument","ownerDocument","basicTabbables","orderedTabbables","isUnavailable","createIsUnavailable","candidateSelectors","candidates","querySelectorAll","join","includeContainer","matches","Element","prototype","msMatchesSelector","webkitMatchesSelector","some","candidateSelector","call","Array","slice","apply","unshift","candidate","candidateIndexAttr","candidateIndex","i","l","length","parseInt","getAttribute","isNaN","tabIndex","tagName","type","disabled","push","tabbableNodes","sort","a","b","index","map","node","isOffCache","isOff","nodeComputedStyle","documentElement","defaultView","getComputedStyle","result","display","parentNode","computedStyle","visibility","listeningFocusTrap","focusTrap","element","userOptions","firstTabbableNode","lastTabbableNode","nodeFocusedBeforeActivation","active","paused","tabEvent","container","querySelector","config","returnFocusOnDeactivate","escapeDeactivates","trap","activate","deactivate","pause","unpause","activateOptions","defaultedActivateOptions","onActivate","activeElement","deactivateOptions","defaultedDeactivateOptions","returnFocus","onDeactivate","addListeners","firstFocusNode","checkFocus","checkClick","checkPointerDown","checkKey","removeListeners","getNodeForOption","optionName","optionValue","contains","e","clickOutsideDeactivates","preventDefault","stopImmediatePropagation","blur","isEscapeEvent","handleTab","hasAttribute","Number","currentFocusIndex","indexOf","shiftKey","tryFocus","updateTabbableNodes","tabbable","readjustFocus","focus","toLowerCase","select","createFocusTrapInstance","surfaceEl","acceptButtonEl","focusTrapFactory","createFocusTrap"],"mappings":"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"}